@inherits LayoutComponentBase

<PageTitle>Wms.Web</PageTitle>

@*
<AuthorizeView>
	<NotAuthorized>
	</NotAuthorized>
	<Authorized>
	</Authorized>
</AuthorizeView>*@

@if (WmsNavigationManager.Uri.Contains("account/"))
{
	@Body

	<video poster="/img/backgrounds/clouds.png" id="bgvid" playsinline autoplay muted loop>
		<source src="/media/video/cc.webm" type="video/webm">
		<source src="/media/video/cc.mp4" type="video/mp4">
	</video>
}
else
{
	<!-- BEGIN Page Wrapper -->
	<div class="page-wrapper">
		<div class="page-inner">
			<!-- BEGIN Left Aside -->
			<NavMenu Username="@Username" />
			<!-- END Left Aside -->
			<div class="page-content-wrapper">
				<!-- BEGIN Page Header -->
				<header class="page-header" role="banner">
					<!-- we need this logo when user switches to nav-function-top -->
					<div class="page-logo">
						<a href="#" class="page-logo-link press-scale-down d-flex align-items-center position-relative" data-toggle="modal" data-target="#modal-shortcut">
							<img src="img/logo.png" alt="SmartAdmin WebApp" aria-roledescription="logo">
							<span class="page-logo-text mr-1">SmartAdmin WebApp</span>
							<span class="position-absolute text-white opacity-50 small pos-top pos-right mr-2 mt-n2"></span>
							<i class="fal fa-angle-down d-inline-block ml-1 fs-lg color-primary-300"></i>
						</a>
					</div>
					<!-- DOC: nav menu layout change shortcut -->
					<div class="hidden-md-down dropdown-icon-menu position-relative">
						<a href="#" class="header-btn btn js-waves-off" data-action="toggle" data-class="nav-function-hidden" title="Hide Navigation">
							<i class="ni ni-menu"></i>
						</a>
						<ul>
							<li>
								<a href="#" class="btn js-waves-off" data-action="toggle" data-class="nav-function-minify" title="Minify Navigation">
									<i class="ni ni-minify-nav"></i>
								</a>
							</li>
							<li>
								<a href="#" class="btn js-waves-off" data-action="toggle" data-class="nav-function-fixed" title="Lock Navigation">
									<i class="ni ni-lock-nav"></i>
								</a>
							</li>
						</ul>
					</div>
					<!-- DOC: mobile button appears during mobile width -->
					<div class="hidden-lg-up">
						<a href="#" class="header-btn btn press-scale-down" data-action="toggle" data-class="mobile-nav-on">
							<i class="ni ni-menu"></i>
						</a>
					</div>
					<div class="ml-auto d-flex">
						Welkom @Username
					</div>
					<div class="ml-auto d-flex">
						<a href="/dashboard/" class="header-icon">
							<i class="fal fa-abacus"></i>
						</a>
					</div>
					<div class="ml-auto d-flex">
						<a href="/account/logout" class="header-icon">
							<i class="fal fa-sign-out"></i>
						</a>
					</div>
				</header>
				<!-- END Page Header -->
				<!-- BEGIN Page Content -->
				<!-- the #js-page-content id is needed for some plugins to initialize -->
				<main id="js-page-content" role="main" class="page-content">
					@Body
				</main>
				<!-- this overlay is activated only when mobile menu is triggered -->
				<div class="page-content-overlay" data-action="toggle" data-class="mobile-nav-on"></div> <!-- END Page Content -->
				<!-- BEGIN Page Footer -->
				<footer class="page-footer" role="contentinfo">
					<div class="d-flex align-items-center flex-1 text-muted">
						<span class="hidden-md-down fw-700">@DateTime.Now.Year © Ask TEST</span>
					</div>
					<div>
						@*					<ul class="list-table m-0">
					<li><a href="intel_introduction.html" class="text-secondary fw-700">About</a></li>
					<li class="pl-3"><a href="info_app_licensing.html" class="text-secondary fw-700">License</a></li>
					<li class="pl-3"><a href="info_app_docs.html" class="text-secondary fw-700">Documentation</a></li>
					<li class="pl-3 fs-xl"><a href="https://wrapbootstrap.com/user/MyOrange" class="text-secondary" target="_blank"><i class="fal fa-question-circle" aria-hidden="true"></i></a></li>
					</ul>
					*@
					</div>
				</footer>
				<!-- END Page Footer -->
				<!-- BEGIN Shortcuts -->
				<div class="modal fade modal-backdrop-transparent" id="modal-shortcut" tabindex="-1" role="dialog" aria-labelledby="modal-shortcut" aria-hidden="true">
					<div class="modal-dialog modal-dialog-top modal-transparent" role="document">
						<div class="modal-content">
							<div class="modal-body">
								<ul class="app-list w-auto h-auto p-0 text-left">
									<li>
										<a href="intel_introduction.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-3x opacity-100 color-primary-500 "></i>
												<i class="base base-7 icon-stack-2x opacity-100 color-primary-300 "></i>
												<i class="fal fa-home icon-stack-1x opacity-100 color-white"></i>
											</div>
											<span class="app-list-name">
												Home
											</span>
										</a>
									</li>
									<li>
										<a href="page_inbox_general.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-3x opacity-100 color-success-500 "></i>
												<i class="base base-7 icon-stack-2x opacity-100 color-success-300 "></i>
												<i class="ni ni-envelope icon-stack-1x text-white"></i>
											</div>
											<span class="app-list-name">
												Inbox
											</span>
										</a>
									</li>
									<li>
										<a href="intel_introduction.html" class="app-list-item text-white border-0 m-0">
											<div class="icon-stack">
												<i class="base base-7 icon-stack-2x opacity-100 color-primary-300 "></i>
												<i class="fal fa-plus icon-stack-1x opacity-100 color-white"></i>
											</div>
											<span class="app-list-name">
												Add More
											</span>
										</a>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<!-- END Shortcuts -->
				<!-- BEGIN Color profile -->
				<!-- this area is hidden and will not be seen on screens or screen readers -->
				<!-- we use this only for CSS color refernce for JS stuff -->
				<p id="js-color-profile" class="d-none">
					<span class="color-primary-50"></span>
					<span class="color-primary-100"></span>
					<span class="color-primary-200"></span>
					<span class="color-primary-300"></span>
					<span class="color-primary-400"></span>
					<span class="color-primary-500"></span>
					<span class="color-primary-600"></span>
					<span class="color-primary-700"></span>
					<span class="color-primary-800"></span>
					<span class="color-primary-900"></span>
					<span class="color-info-50"></span>
					<span class="color-info-100"></span>
					<span class="color-info-200"></span>
					<span class="color-info-300"></span>
					<span class="color-info-400"></span>
					<span class="color-info-500"></span>
					<span class="color-info-600"></span>
					<span class="color-info-700"></span>
					<span class="color-info-800"></span>
					<span class="color-info-900"></span>
					<span class="color-danger-50"></span>
					<span class="color-danger-100"></span>
					<span class="color-danger-200"></span>
					<span class="color-danger-300"></span>
					<span class="color-danger-400"></span>
					<span class="color-danger-500"></span>
					<span class="color-danger-600"></span>
					<span class="color-danger-700"></span>
					<span class="color-danger-800"></span>
					<span class="color-danger-900"></span>
					<span class="color-warning-50"></span>
					<span class="color-warning-100"></span>
					<span class="color-warning-200"></span>
					<span class="color-warning-300"></span>
					<span class="color-warning-400"></span>
					<span class="color-warning-500"></span>
					<span class="color-warning-600"></span>
					<span class="color-warning-700"></span>
					<span class="color-warning-800"></span>
					<span class="color-warning-900"></span>
					<span class="color-success-50"></span>
					<span class="color-success-100"></span>
					<span class="color-success-200"></span>
					<span class="color-success-300"></span>
					<span class="color-success-400"></span>
					<span class="color-success-500"></span>
					<span class="color-success-600"></span>
					<span class="color-success-700"></span>
					<span class="color-success-800"></span>
					<span class="color-success-900"></span>
					<span class="color-fusion-50"></span>
					<span class="color-fusion-100"></span>
					<span class="color-fusion-200"></span>
					<span class="color-fusion-300"></span>
					<span class="color-fusion-400"></span>
					<span class="color-fusion-500"></span>
					<span class="color-fusion-600"></span>
					<span class="color-fusion-700"></span>
					<span class="color-fusion-800"></span>
					<span class="color-fusion-900"></span>
				</p>
				<!-- END Color profile -->
			</div>
		</div>
	</div>
	<!-- END Page Wrapper -->
	<!-- BEGIN Quick Menu -->
	<!-- to add more items, please make sure to change the variable '$menu-items: number;' in your _page-components-shortcut.scss -->
	<nav class="shortcut-menu d-none d-sm-block">
		<input type="checkbox" class="menu-open" name="menu-open" id="menu_open" />
		<label for="menu_open" class="menu-open-button ">
			<span class="app-shortcut-icon d-block"></span>
		</label>
		<a href="#" class="menu-item btn" data-toggle="tooltip" data-placement="left" title="Scroll Top">
			<i class="fal fa-arrow-up"></i>
		</a>
		<a href="/account/logout" class="menu-item btn" data-toggle="tooltip" data-placement="left" title="Logout">
			<i class="fal fa-sign-out"></i>
		</a>
		<a href="#" class="menu-item btn" data-action="app-fullscreen" data-toggle="tooltip" data-placement="left" title="Full Screen">
			<i class="fal fa-expand"></i>
		</a>
		<a href="#" class="menu-item btn" data-action="app-print" data-toggle="tooltip" data-placement="left" title="Print page">
			<i class="fal fa-print"></i>
		</a>
		<a href="#" class="menu-item btn" data-action="app-voice" data-toggle="tooltip" data-placement="left" title="Voice command">
			<i class="fal fa-microphone"></i>
		</a>
	</nav>
	<!-- END Quick Menu -->
}

@code {

	private string Username = "?";

	protected async override Task OnInitializedAsync()
	{
		var state = await WmsAuthStateProvider.GetAuthenticationStateAsync();
		if (state.User.Identity.IsAuthenticated)
			Username = state.User.GetLoggedInUserName();

				//NavigationManager.NavigateTo("/account/login");

			//var user = await AuthState.GetAuthenticationStateProviderUserAsync();
			//if (!user.Identity.IsAuthenticated)
			//{
			//	NavigationManager.NavigateTo($"/account/login?returnUrl={Uri.EscapeDataString(NavigationManager.Uri)}");
			//}

			base.OnInitialized();
	}
}